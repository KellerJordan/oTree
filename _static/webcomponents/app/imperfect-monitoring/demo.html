<!DOCTYPE html>
<html>
    <head>
        <script
            src="/static/bower_components/webcomponentsjs/webcomponents-lite.min.js">
        </script>
        <link
            rel="import"
            href="/static/webcomponents/app/imperfect-monitoring/imperfect-monitoring.html">
    </head>
    <body>
        <script src="//code.highcharts.com/highcharts.js"></script>
        <script>
            var oTree = oTree || {};
            (function() {
                oTree.session = "demo";
                oTree.subsession = 1;
                oTree.round = 1;
                oTree.group = 1;
                oTree.role = 'demo';
                oTree.participantCode = 'demo';
                oTree.appName = "imperfect-monitoring";
                oTree.idInGroup = 0;
                oTree.debug = true;
            })();
            class ReconnectingWebSocket {
                constructor() {
                    setTimeout(() => { this.readyState = 1; this.onopen(); }, 1000);
                }
                send(msg) {
                    event = JSON.parse(msg);
                    if (event.channel == 'echo') {
                        this.onmessage({
                            data: JSON.stringify(event)
                        });
                    }
                }
            }
        </script>
        <imperfect-monitoring
            row-labels='["Cooperate", "Defect"]'
            payoff-matrix=
            '[
                [100, 100],
                [0, 0],
                [125, 125],
                [25, 25]
            ]'
            probability-matrix=
            '[
                [0.4, 0.4],
                [0.6, 0.6],
                [0.6, 0.6],
                [0.8, 0.8]
            ]'
            player-index='0'
            period-length='120'>
       </imperfect-monitoring>

    </body>
</html>